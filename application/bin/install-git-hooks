#!/usr/bin/env bash

set -e

CURRENT_DIRECTORY=`pwd`
BIN_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

PROJECT_DIRECTORY="$BIN_DIR/.."

cd $PROJECT_DIRECTORY;
PRE_COMMIT="bin/git-hooks/pre-commit"

HAS_PRE_COMMIT=false

if [ -x "$PRE_COMMIT" ]; then
    HAS_PRE_COMMIT=true
fi

if $HAS_PRE_COMMIT; then
    cp ${PRE_COMMIT} ../.git/hooks/.
else
    echo ""
    echo "Cannot find pre-commit script : bin/git-hooks/pre-commit"
    echo ""
	cd $CURRENT_DIRECTORY;
    exit 1
fi

cd $CURRENT_DIRECTORY;
